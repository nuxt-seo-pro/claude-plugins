# Skill Artifacts

Skills generate persistent context artifacts that inform future LLM usage across skills.

## Artifact Location

```
project/
└── .claude/
    └── context/
        ├── site-config.md        # URL, name, industry, audience
        ├── site-pages.md         # Available pages from sitemap/project
        ├── writing-style.md      # Per-category voice, structure
        ├── market-research.md    # Product/market context
        ├── brand-voice.md        # Tone, terminology, style
        ├── competitors.md        # Competitor analysis
        ├── target-keywords.md    # SEO keywords to target
        └── product-positioning.md # Value props, messaging
```

## Artifact Types

| Artifact | Generated By | Used By |
|----------|--------------|---------|
| `site-config.md` | site-setup | all skills |
| `site-pages.md` | site-setup | content-audit, content-writing |
| `writing-style.md` | site-setup | content-audit, content-writing |
| `market-research.md` | market-research | content-research, landing-copy, comparison-writing, learn-writing |
| `brand-voice.md` | landing-copy | writing-foundations, docs-writing, learn-writing, comparison-writing |
| `competitors.md` | market-research | landing-copy, comparison-writing |
| `target-keywords.md` | content-research | docs-writing, learn-writing, comparison-writing |
| `product-positioning.md` | landing-copy | learn-writing, comparison-writing |

## Skill Behavior

### Before Executing

Every skill should:

1. **Check for existing artifacts**
   ```
   Read .claude/context/market-research.md if exists
   Read .claude/context/brand-voice.md if exists
   ```

2. **If missing critical context, ask user or generate**
   - market-research.md missing → Run market research first or ask key questions
   - brand-voice.md missing → Infer from existing content or ask

3. **Reference artifacts in output**
   - Use established terminology
   - Follow brand voice guidelines
   - Target documented keywords

### After Executing

Skills that generate insights should:

1. **Create/update relevant artifact**
2. **Note what was added** for user awareness

## User Questions

When artifacts don't exist and can't be inferred, use AskUserQuestion:

### Market Research Questions

```
1. What problem does this product solve?
2. Who is the target audience?
3. What are 2-3 competing products/alternatives?
4. What makes this different from alternatives?
5. What's the primary call-to-action? (sign up, download, buy)
```

### Brand Voice Questions

```
1. How should the tone feel? (casual/professional, playful/serious)
2. Any terminology to always use or avoid?
3. What personality should come through? (helpful expert, friendly peer, etc.)
```

## Artifact Formats

### market-research.md

```markdown
# Market Research: [Product Name]

**Generated:** [date]
**Last updated:** [date]

## Product

**Name:** [name]
**One-liner:** [description]
**Problem solved:** [problem]
**Target audience:** [who]

## Market

**Total addressable search volume:** [X]/month
**Primary keywords:**
- [keyword 1] ([volume], [difficulty])
- [keyword 2] ([volume], [difficulty])

**Competitors:**
- [Competitor 1] — [what they do]
- [Competitor 2] — [what they do]

## Positioning

**Differentiator:** [what makes it different]
**Key benefits:**
1. [benefit 1]
2. [benefit 2]
3. [benefit 3]

## Signals

- Search demand: [high/medium/low]
- Competition: [high/medium/low]
- Recommendation: [build/validate/pass]
```

### brand-voice.md

```markdown
# Brand Voice: [Product Name]

**Generated:** [date]

## Tone

- [casual/professional]
- [playful/serious]
- [confident/humble]

## Personality

[1-2 sentence description of voice personality]

## Terminology

**Always use:**
- [term 1] (not [alternative])
- [term 2] (not [alternative])

**Never use:**
- [banned term 1]
- [banned term 2]

## Examples

**Good:**
> [example of on-brand copy]

**Bad:**
> [example of off-brand copy]
```

### target-keywords.md

```markdown
# Target Keywords: [Product Name]

**Generated:** [date]

## Primary Keywords

| Keyword | Volume | Difficulty | Target Page |
|---------|--------|------------|-------------|
| [keyword] | [X] | [X] | [/path] |

## Secondary Keywords

| Keyword | Volume | Difficulty | Target Page |
|---------|--------|------------|-------------|
| [keyword] | [X] | [X] | [/path] |

## Content Gaps

- [ ] [Topic] — no content exists, [X] volume
- [ ] [Topic] — [X] volume
```

## Cross-Skill Workflow

```
┌───────────────────┐
│  market-research  │ → market-research.md, competitors.md
└─────────┬─────────┘
          │
          ▼
┌───────────────────┐
│ content-research  │ → target-keywords.md
└─────────┬─────────┘
          │
          ▼
┌───────────────────┐
│   landing-copy    │ → brand-voice.md, product-positioning.md
└─────────┬─────────┘
          │
          ▼
┌─────────────────────────────────────────────────────┐
│  Writing Skills (read artifacts before writing)    │
├─────────────────────────────────────────────────────┤
│ • docs-writing      (brand-voice, target-keywords) │
│ • learn-writing     (all artifacts)                │
│ • comparison-writing (all artifacts)               │
│ • writing-foundations (brand-voice)                │
└─────────────────────────────────────────────────────┘
```

## Artifact Validation

Before using an artifact, validate:

### Format Check

| Check | Pass | Fail Action |
|-------|------|-------------|
| Has `Generated:` date | Continue | Add date on next update |
| Has `Last updated:` date | Continue | Add on next update |
| Required sections exist | Continue | Ask user for missing info |
| Values are populated (not placeholders) | Continue | Ask user to fill gaps |

### Staleness Check

Artifacts can become outdated. Check the `Last updated:` date:

| Artifact Type | Stale After | Action |
|---------------|-------------|--------|
| `site-pages.md` | 1 day | Re-fetch from sitemap/llms.txt, or scan project if not deployed |
| `site-config.md` | 6 months | Rarely changes, refresh on rebrand |
| `writing-style.md` | 12 months | Usually stable, refresh on style guide update |
| `market-research.md` | 3 months | Warn user, offer to refresh keyword data |
| `competitors.md` | 3 months | Warn user, competitors may have changed |
| `target-keywords.md` | 6 months | Volumes shift seasonally, suggest refresh |
| `brand-voice.md` | 12 months | Usually stable, refresh on major rebrand |
| `product-positioning.md` | 6 months | Refresh if product has pivoted |

**When stale:**

```markdown
⚠️ market-research.md was last updated 4 months ago.
Keyword volumes and competition may have changed.

Options:
1. Continue with existing data (acknowledge may be outdated)
2. Refresh market research first
```

### Missing Artifact Behavior

| If Missing | Skill Behavior |
|------------|----------------|
| `site-config.md` | Run site-setup skill first |
| `site-pages.md` | Run site-setup (fetches sitemap or scans project pages/content dirs) |
| `writing-style.md` | Use defaults from foundations.md, suggest running site-setup |
| `market-research.md` | Ask user 3-5 key questions OR suggest running market-research skill first |
| `brand-voice.md` | Infer from existing content, or use defaults from writing-foundations |
| `competitors.md` | Proceed without competitor context, note limitation |
| `target-keywords.md` | Run content-research inline OR proceed without keyword targeting |
| `product-positioning.md` | Ask user for key value props |

## Implementation Notes

Skills should:

1. Use `Bash: mkdir -p .claude/context` before writing (ensures dir exists)
2. Use `Glob` to check for existing artifacts
3. Use `Read` to load existing artifacts
4. **Validate format and staleness** before using
5. Use `AskUserQuestion` when critical info is missing or stale
6. Use `Write` to create/update artifacts
7. Always note artifact location in output to user
8. **Update `Last updated:` date** when modifying artifacts
